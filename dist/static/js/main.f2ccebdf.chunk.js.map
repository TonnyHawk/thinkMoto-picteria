{"version":3,"sources":["components/Card/Card.js","components/Header/Header.js","components/Nav/Nav.js","components/App/App.js","index.js"],"names":["Card","props","dropArea","React","createRef","input","state","files","fileInfos","uploadedState","uploadFile","bind","this","current","setState","forEach","elem","push","name","progress","e","dataTransfer","handleFiles","file","fileRef","window","firebase","storage","ref","child","index","indexOf","console","log","uploadTask","put","on","snapshot","bytesTransferred","totalBytes","TaskState","PAUSED","RUNNING","error","getDownloadURL","then","downloadURL","preventDefaults","preventDefault","stopPropagation","highlight","classList","add","unhighlight","remove","eventName","addEventListener","handleDrop","sectionFiles","i","cardFooter","map","className","style","width","length","id","type","onChange","multiple","accept","htmlFor","height","viewBox","fill","xmlns","d","Component","Header","class","to","src","alt","Nav","pathname","location","menuIcon","withRouter","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f2ccebdf.chunk.js","sourcesContent":["import React, {\r\n   Component\r\n} from 'react';\r\n\r\nclass Card extends Component {\r\n   constructor(props) {\r\n      super(props)\r\n      this.dropArea = React.createRef();\r\n      this.input = React.createRef();\r\n      this.state = {\r\n         files: [],\r\n         fileInfos: [],\r\n         uploadedState: false\r\n      }\r\n      this.uploadFile = this.uploadFile.bind(this)\r\n   }\r\n\r\n   handleFiles(files) {\r\n      if(files === 'input'){\r\n         files = this.input.current.files;\r\n      }\r\n      files = [...files];\r\n      this.setState(state=>{\r\n\r\n         state.files = files;\r\n\r\n         let fileInfos = [];\r\n         files.forEach(elem=>{\r\n            fileInfos.push({\r\n               name: elem.name,\r\n               progress: null\r\n            })\r\n         })\r\n\r\n         state.fileInfos = fileInfos;\r\n\r\n         return state\r\n      }, ()=>{\r\n         (this.state.files).forEach(this.uploadFile);\r\n      });\r\n   }\r\n\r\n   handleDrop(e){\r\n      let dt = e.dataTransfer\r\n      let files = dt.files\r\n\r\n      this.handleFiles(files)\r\n   }\r\n\r\n   uploadFile(file) {\r\n\r\n      // Create a root reference\r\n      var storageRef = window.firebase.storage().ref();\r\n\r\n      // Create a reference to new file\r\n      var fileRef = storageRef.child('picteria/' + file.name);\r\n      let index = this.state.files.indexOf(file)\r\n      console.log('index: '+this.state.files.indexOf(file));\r\n      this.setState(state=>{\r\n         state.fileInfos[index].ref = fileRef\r\n         return state\r\n      })\r\n\r\n      // 'file' comes from the Blob or File API\r\n      let uploadTask = fileRef.put(file);\r\n\r\n      uploadTask.on('state_changed',\r\n         (snapshot) => {\r\n\r\n            // Observe state change events such as progress, pause, and resume\r\n            // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\r\n            var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n            this.setState(state=>{\r\n               state.fileInfos[index].progress = progress\r\n               return state\r\n            })\r\n            console.log('Upload is ' + progress + '% done');\r\n            switch (snapshot.state) {\r\n               case window.firebase.storage.TaskState.PAUSED: // or 'paused'\r\n                  console.log('Upload is paused');\r\n                  break;\r\n               case window.firebase.storage.TaskState.RUNNING: // or 'running'\r\n                  console.log('Upload is running');\r\n                  break;\r\n            }\r\n         },\r\n         (error) => {\r\n            // Handle unsuccessful uploads\r\n         },\r\n         () => {\r\n            // Handle successful uploads on complete\r\n            // For instance, get the download URL: https://firebasestorage.googleapis.com/...\r\n            uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {\r\n               console.log('File available at', downloadURL);\r\n            });\r\n         }\r\n      );\r\n   }\r\n   \r\n   componentDidMount() {\r\n      let dropArea = this.dropArea.current;\r\n      ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {\r\n         dropArea.addEventListener(eventName, preventDefaults, false)\r\n      })\r\n\r\n      function preventDefaults(e) {\r\n         e.preventDefault();\r\n         e.stopPropagation();\r\n      }\r\n\r\n\r\n      ['dragenter', 'dragover'].forEach(eventName => {\r\n         dropArea.addEventListener(eventName, highlight, false)\r\n      });\r\n\r\n      ['dragleave', 'drop'].forEach(eventName => {\r\n         dropArea.addEventListener(eventName, unhighlight, false)\r\n      });\r\n\r\n      function highlight(e) {\r\n         dropArea.classList.add('is-highlighted')\r\n      }\r\n\r\n      function unhighlight(e) {\r\n         dropArea.classList.remove('is-highlighted')\r\n      }\r\n\r\n      dropArea.addEventListener('drop', (e)=>this.handleDrop(e), false)\r\n\r\n   }\r\n\r\n   render() {\r\n\r\n      let {files, fileInfos} = this.state;\r\n\r\n      let i = 0;\r\n\r\n      files = files.map(file=>{\r\n         let progress = fileInfos[i].progress === null ? '0' : fileInfos[i].progress;\r\n         i = i + 1;\r\n         return (<div className=\"card__file file\" key={file.name}>\r\n         <div className=\"file__icon file__icon--jpg\" />\r\n         <div className=\"file__info\">\r\n           <div className=\"flex justify-content-between\">\r\n             <p className=\"file__name\">{file.name}</p>\r\n             <div className=\"file__progress-indicator\">\r\n               <p className=\"file__progress-indicator-txt\">\r\n                  {progress}%\r\n               </p>\r\n               <div className=\"file__progress-indicator-status\">\r\n                 <div className=\"status-btn\" />\r\n               </div>\r\n             </div>\r\n           </div>\r\n           <div className=\"file__progress-bar progress-bar\">\r\n             <div className=\"progress-bar__line\" style={{width: progress+'%'}}/>\r\n           </div>\r\n         </div>\r\n         <div className=\"file__status\">\r\n           <div className=\"status-btn\" />\r\n         </div>\r\n       </div>)\r\n      })\r\n\r\n      let sectionFiles, cardFooter = '';\r\n      if(files.length !== 0){\r\n         sectionFiles = (\r\n            <div className=\"card__files\">\r\n               <h2 className=\"card__heading\">Uploading files</h2>\r\n               {files}\r\n            </div>\r\n         );\r\n         cardFooter = (\r\n         <div className=\"card__footer\">\r\n            <p className=\"btn is-disabled\">Go next</p>\r\n         </div>\r\n         );\r\n      }\r\n\r\n\r\n\r\n      return ( \r\n      <div id=\"card\" className=\"card\">\r\n      <div className=\"card__header\">\r\n        <h1 className=\"card__title\">Upload your files</h1>\r\n        <p className=\"card__text\">Files should be jpg or png</p>\r\n      </div>\r\n      <div className=\"card__body\">\r\n        <div className=\"card__upload-area upload-area\" id=\"card-upload-area\" ref={this.dropArea}>\r\n          <form className=\"upload-area__form\">\r\n            <input type=\"file\" className=\"upload-area__file\" id=\"fileElem\" ref={this.input} onChange={()=>this.handleFiles('input')} multiple accept=\"image/*\"/>\r\n            <label className=\"upload-area__button\" htmlFor=\"fileElem\">\r\n              <div className=\"upload-area__inner\">\r\n                <svg className=\"upload-area__icon\" width={71} height={72} viewBox=\"0 0 71 72\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path d=\"M65.1844 15.5851H57.2365L56.4194 5.91103C56.2709 4.19321 55.6024 2.5658 54.4882 1.48085C53.374 0.395913 51.9627 -0.146557 50.5514 0.0342662L4.79552 6.00145C1.82436 6.36309 -0.329726 9.61792 0.0416685 13.144L3.68134 55.3663C3.97846 58.7115 6.2811 61.2431 9.02943 61.2431C9.25226 61.2431 9.40082 61.2431 9.62366 61.2431L13.9318 60.7006V64.6787C13.9318 68.2952 16.3088 71.1884 19.2799 71.1884H65.1844C68.1555 71.1884 70.5324 68.2952 70.5324 64.6787V22.1852C70.5324 18.5687 68.1555 15.5851 65.1844 15.5851ZM13.8576 22.1852V55.3663L9.10371 55.9992C8.58375 56.0896 7.98952 55.5471 7.98952 54.9142L4.34985 12.6015C4.34985 12.1495 4.49841 11.8782 4.57269 11.6974C4.64697 11.5166 4.8698 11.3357 5.2412 11.2453L50.9228 5.36856H50.9971C51.2942 5.36856 51.517 5.54939 51.6656 5.6398C51.8141 5.73021 51.9627 6.00145 52.037 6.45351L52.854 15.5851H19.2056C16.2345 15.5851 13.8576 18.5687 13.8576 22.1852ZM66.15 64.6787C66.15 65.402 65.7043 65.9445 65.1101 65.9445H19.2056C18.6114 65.9445 18.1657 65.402 18.1657 64.6787V46.4155L26.9307 35.7469C27.8963 34.5716 29.4562 34.5716 30.4218 35.7469L48.0259 57.1745C48.4716 57.717 48.9915 57.9882 49.5858 57.9882C50.18 57.9882 50.6999 57.717 51.1456 57.1745C51.9627 56.18 51.9627 54.4622 51.1456 53.4677L49.2144 51.1169L53.7454 45.6018C53.8939 45.421 54.1911 45.421 54.3396 45.6018L66.15 60.0677V64.6787ZM66.15 52.5635L57.3851 41.8949C55.5281 39.6346 52.4826 39.6346 50.6257 41.8949L46.1689 47.4101L33.5415 32.0401C32.2788 30.5031 30.5703 29.5989 28.7134 29.5989C26.8564 29.5989 25.148 30.5031 23.8852 32.0401L18.1657 38.9114V22.1852C18.1657 21.4619 18.6114 20.9194 19.2056 20.9194H65.1101C65.7043 20.9194 66.15 21.4619 66.15 22.1852V52.5635Z\" fill=\"#7E6DE9\" />\r\n                </svg>\r\n                <p className=\"upload-area__text\">\r\n                  click to load files\r\n                </p>\r\n              </div>\r\n            </label>\r\n          </form>\r\n        </div>\r\n        {sectionFiles}\r\n      </div>\r\n\r\n      {cardFooter}\r\n    </div>\r\n    \r\n      );\r\n   }\r\n}\r\n\r\nexport default Card;","import React, { Component } from 'react';\r\nimport {\r\n   Link\r\n } from \"react-router-dom\";\r\n\r\nclass Header extends Component {\r\n   render() {\r\n      return (\r\n         <header class=\"header\">\r\n         <div class=\"header__offer\">\r\n           <h1 class=\"header__title\">adjust any photo in a minutes</h1>\r\n           <p class=\"header__descr\">Add a great filters to your photo without any complex operations, just upload and see how it works!</p>\r\n           <Link to=\"/upload\" className=\"header__action action-btn\">Upload a photo</Link>\r\n         </div>\r\n         <div class=\"header__aside\">\r\n           <div class=\"header__collection collection\">\r\n             <div class=\"collection__photo ibg\">\r\n               <img src=\"img/collection/big/2.jpg\" alt=\"\" />\r\n             </div>\r\n             <div class=\"collection__photo ibg\">\r\n               <img src=\"img/collection/big/1.jpg\" alt=\"\" />\r\n             </div>\r\n             <div class=\"collection__photo ibg\">\r\n               <img src=\"img/collection/big/1.jpg\" alt=\"\" />\r\n             </div>\r\n           </div>\r\n         </div>\r\n       </header>\r\n      );\r\n   }\r\n}\r\n\r\nexport default Header;","import React, { Component } from 'react';\r\nimport {\r\n   BrowserRouter as Router,\r\n   Link,\r\n   withRouter\r\n } from \"react-router-dom\";\r\n\r\nclass Nav extends Component {\r\n   render() {\r\n      let {pathname} = this.props.location\r\n      console.log(pathname);\r\n      let menuIcon = '';\r\n      if(pathname === '/upload'){\r\n         menuIcon = (\r\n         <div class=\"nav__menu-icon ic-wth-txt\">\r\n         <div class=\"ic-wth-txt__txt\">\r\n            <Link to=\"/\">Decline</Link>\r\n         </div>\r\n         <div class=\"ic-wth-txt__ic\">\r\n            <Link to=\"/\">\r\n            <svg\r\n               width=\"21\"\r\n               height=\"22\"\r\n               viewBox=\"0 0 21 22\"\r\n               fill=\"none\"\r\n               xmlns=\"http://www.w3.org/2000/svg\"\r\n            >\r\n               <path d=\"M20 1.33035L1 20.3304\" stroke-width=\"2\" />\r\n               <path d=\"M1 1.66965L20 20.6696\" stroke-width=\"2\" />\r\n            </svg>\r\n            </Link>\r\n         </div>\r\n      </div>)\r\n      }\r\n      return (\r\n            <div class=\"nav darken\">\r\n            {menuIcon}\r\n            <div class=\"nav__logo logo\">\r\n                  <Link to=\"/\" className=\"logo__name\">picteria</Link>\r\n               <div class=\"logo__dash\"></div>\r\n               <p class=\"logo__descr\">fast photo adjustments</p>\r\n            </div>\r\n            </div>\r\n      );\r\n   }\r\n}\r\n\r\nexport default withRouter(Nav);","import React, { Component } from 'react';\r\nimport Card from '../Card/Card';\r\nimport Header from '../Header/Header';\r\nimport Nav from '../Nav/Nav';\r\nimport {\r\n   BrowserRouter as Router,\r\n   Switch,\r\n   Route,\r\n } from \"react-router-dom\";\r\n\r\nclass App extends Component {\r\n   render() {\r\n      return (\r\n            <Router>\r\n            <div id=\"bg\">\r\n                  <div class=\"container\">\r\n                     <Nav></Nav>\r\n                  </div>\r\n                  <Switch>\r\n                     <Route exact path=\"/\">\r\n                        <div class=\"container\">\r\n                           <Header />\r\n                        </div>\r\n                     </Route>\r\n                     <Route exact path=\"/upload\">\r\n                        <Card />\r\n                     </Route>\r\n                  </Switch>\r\n                  </div>\r\n            </Router>\r\n      );\r\n   }\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport Card from './components/Card/Card';\n\nReactDOM.render(\n  <>\n    <Card/>\n  </>,\n  document.getElementById('mycard')\n);\n\n "],"sourceRoot":""}